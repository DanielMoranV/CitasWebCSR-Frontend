import{E as U,C as r,a0 as p,a1 as y,a2 as m,a3 as u,a4 as f,a5 as c,a6 as D,a7 as w,a8 as i,a9 as P,aa as b,ab as z,ac as I,ad as C}from"./index-a19affa2.js";const S=U("datauserStore",{state:()=>({dataUser:r.getItem("collaborator"),loadingDataUser:!1,dependents:r.getItem("dependents"),patients:r.getItem("patients"),msg:null}),actions:{async getCollaborators(){this.loadingDataUser=!0;try{const{data:e}=await p();return r.setItem("collaborator",e),this.dataUser=e,this.dataUser}catch(e){console.log(e)}finally{this.loadingDataUser=!1}},async getUsers(){this.loadingDataUser=!0;try{const{data:e}=await y();return this.dataUser=e,this.dataUser}catch(e){console.log(e)}finally{this.loadingDataUser=!1}},async getPatients(){this.loadingDataUser=!0;try{const{data:e}=await m();return r.setItem("patients",e),this.patients=e,this.patients}catch(e){console.log(e)}},async getUsersDependents(e){this.loadingDataUser=!0;try{const{data:a}=await u(e);return r.setItem("dependents",a.dependents),this.dependents=a.dependents,this.dependents}catch(a){console.log(a)}finally{this.loadingDataUser=!1}},async addUsersDependents(e){try{const{data:a}=await f(e);return a}catch(a){return console.log(a),a.message}},async updateUserDependents(e,a){try{const{data:t}=await c(e,a);this.dependents=this.dependents.map(s=>s.dependentId===e?{...s,...t}:s)}catch(t){console.log(t.message)}},async deleteUserDependents(e){try{await D(e),this.dataUser=this.dataUser.filter(a=>a.dni!==e)}catch(a){console.log(a.message)}finally{console.log("Finalizado")}},async addUsers(e){try{const{data:a}=await w(e);return this.dataUser=a,a}catch(a){return this.msg=a.message,this.msg}},async updateUser(e,a,t,s,o){try{const{access:n,Doctor:l,...d}=o,{personalizedPrices:g,...h}=l;await c(e,d),await i(a,n),await P(t,h),await b(s,g[0])}catch(n){console.log(n.message)}},async updatePatient(e,a,t){try{const{access:s,...o}=t;console.log(e,a,t),await c(e,o),await i(a,s)}catch(s){console.log(s.message)}},async disableUser(e){try{await i(e,{active:!1})}catch(a){console.log(a.message)}},async addPatients(e){try{const{data:a,message:t}=await z(e);this.dataUser=a,this.msg=t}catch(a){console.log(a),this.msg=a.message}},async profileUser(e){try{const{data:a}=await I(e);this.dataUser=a}catch(a){console.log(a.message)}finally{console.log("Finalizada la carga de datos del perfil")}},async deleteUser(e){try{await C(e),this.dataUser=this.dataUser.filter(a=>a.dni!==e)}catch(a){console.log(a.message)}finally{console.log("Finalizado")}}}});export{S as u};
