import{E as U,C as o,a0 as p,a1 as y,a2 as m,a3 as u,a4 as w,a5 as n,a6 as D,a7 as f,a8 as c,a9 as P,aa as b,ab as z,ac as I,ad as C}from"./index-ec84c2a8.js";const S=U("datauserStore",{state:()=>({dataUser:o.getItem("collaborator"),loadingDataUser:!1,dependents:o.getItem("dependents"),patients:o.getItem("patients"),msg:null}),actions:{async getCollaborators(){this.loadingDataUser=!0;try{const{data:e}=await p();return o.setItem("collaborator",e),this.dataUser=e,this.dataUser}catch(e){console.log(e)}finally{this.loadingDataUser=!1}},async getUsers(){this.loadingDataUser=!0;try{const{data:e}=await y();return this.dataUser=e,this.dataUser}catch(e){console.log(e)}finally{this.loadingDataUser=!1}},async getPatients(){this.loadingDataUser=!0;try{const{data:e}=await m();return o.setItem("patients",e),this.patients=e,this.patients}catch(e){console.log(e)}},async getUsersDependents(e){this.loadingDataUser=!0;try{const{data:a}=await u(e);return o.setItem("dependents",a.dependents),this.dependents=a.dependents,this.dependents}catch(a){console.log(a)}finally{this.loadingDataUser=!1}},async addUsersDependents(e){try{const{data:a}=await w(e);return a}catch(a){return console.log(a),a.message}},async updateUserDependents(e,a){try{const{data:t}=await n(e,a);this.dependents=this.dependents.map(s=>s.dependentId===e?{...s,...t}:s)}catch(t){console.log(t.message)}},async deleteUserDependents(e){try{await D(e),this.dataUser=this.dataUser.filter(a=>a.dni!==e)}catch(a){console.log(a.message)}finally{console.log("Finalizado")}},async addUsers(e){try{const{data:a}=await f(e);return this.dataUser=a,a}catch(a){return this.msg=a.message,this.msg}},async updateDoctor(e,a,t,s,r){try{console.log(r);const{access:i,Doctor:l,...d}=r,{personalizedPrices:g,...h}=l;await n(e,d),await c(a,i),await P(t,h),await b(s,g[0])}catch(i){console.log(i.message)}},async updateUser(e,a,t){try{console.log(t);const{access:s,...r}=t;await n(e,r),await c(a,s)}catch(s){console.log(s.message)}},async updatePatient(e,a,t){try{const{access:s,...r}=t;console.log(e,a,t),await n(e,r),await c(a,s)}catch(s){console.log(s.message)}},async disableUser(e){try{await c(e,{active:!1})}catch(a){console.log(a.message)}},async addPatients(e){try{const{data:a,message:t}=await z(e);this.dataUser=a,this.msg=t}catch(a){console.log(a),this.msg=a.message}},async profileUser(e){try{const{data:a}=await I(e);this.dataUser=a}catch(a){console.log(a.message)}finally{console.log("Finalizada la carga de datos del perfil")}},async deleteUser(e){try{await C(e),this.dataUser=this.dataUser.filter(a=>a.dni!==e)}catch(a){console.log(a.message)}finally{console.log("Finalizado")}}}});export{S as u};
